{
  "name": "Data Validation Pipeline",
  "schedule": {
    "quartz_cron_expression": "0 30 6 * * ?",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "tasks": [
    {
      "task_key": "validate_ingestion",
      "notebook_task": {
        "notebook_path": "/Users/niteshchand_sharma@epam.com/portfolio-manager-agent/portfolio-manager-agent/notebooks/02_validate_ingest",
        "source": "WORKSPACE",
        "base_parameters": {
          "tickers": "${TICKERS}",
          "catalog": "portfolio_catalog",
          "schema": "portfolio_schema",
          "environment": "${ENVIRONMENT}"
        }
      },
      "existing_cluster_policy": {
        "policy_id": "${CLUSTER_POLICY_ID}"
      },
      "timeout_seconds": 1800,
      "retry_on_timeout": true,
      "max_retries": 2,
      "min_retry_interval_millis": 300000,
      "libraries": [
        {
          "pypi": {
            "package": "pandas>=1.5.0"
          }
        },
        {
          "pypi": {
            "package": "matplotlib>=3.6.0"
          }
        }
      ]
    }
  ],
  "format": "MULTI_TASK",
  "max_concurrent_runs": 1,
  "depends_on": [
    {
      "outcome": "SUCCESS", 
      "job_id": "${DATA_INGESTION_JOB_ID}"
    }
  ],
  "tags": {
    "purpose": "data_validation", 
    "environment": "${ENVIRONMENT}",
    "pipeline": "portfolio_manager",
    "sequence": "02"
  },
  "email_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": ["${NOTIFICATION_EMAIL}"],
    "no_alert_for_skipped_runs": true
  },
  "webhook_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": []
  },
  "notification_settings": {
    "no_alert_for_skipped_runs": true,
    "no_alert_for_canceled_runs": false
  },
  "run_as": {
    "user_name": "niteshchand_sharma@epam.com"
  }
}