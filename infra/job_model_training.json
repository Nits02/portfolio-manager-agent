{
  "name": "Predictive Model Training Pipeline",
  "schedule": {
    "quartz_cron_expression": "0 0 2 1 * ?",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "tasks": [
    {
      "task_key": "train_predictive_model",
      "notebook_task": {
        "notebook_path": "/Users/niteshchand_sharma@epam.com/portfolio-manager-agent/portfolio-manager-agent/notebooks/05_predictive_modeling",
        "source": "WORKSPACE",
        "base_parameters": {
          "tickers": "${TICKERS}",
          "catalog": "finance_catalog",
          "schema": "silver",
          "environment": "${ENVIRONMENT}",
          "hyperparameter_tuning": "true",
          "model_name": "portfolio_price_predictor_${ENVIRONMENT}"
        }
      },
      "existing_cluster_policy": {
        "policy_id": "${ML_CLUSTER_POLICY_ID}"
      },
      "timeout_seconds": 7200,
      "retry_on_timeout": true,
      "max_retries": 2,
      "min_retry_interval_millis": 600000,
      "libraries": [
        {
          "pypi": {
            "package": "mlflow>=2.8.0"
          }
        },
        {
          "pypi": {
            "package": "matplotlib>=3.6.0"
          }
        },
        {
          "pypi": {
            "package": "seaborn>=0.12.0"
          }
        },
        {
          "pypi": {
            "package": "pandas>=1.5.0"
          }
        }
      ]
    }
  ],
  "format": "MULTI_TASK",
  "max_concurrent_runs": 1,
  "depends_on": [
    {
      "outcome": "SUCCESS",
      "job_id": "${FEATURE_VALIDATION_JOB_ID}"
    }
  ],
  "tags": {
    "purpose": "model_training",
    "environment": "${ENVIRONMENT}",
    "pipeline": "portfolio_manager",
    "sequence": "06",
    "ml_pipeline": "true"
  },
  "email_notifications": {
    "on_start": ["${NOTIFICATION_EMAIL}"],
    "on_success": ["${NOTIFICATION_EMAIL}"],
    "on_failure": ["${NOTIFICATION_EMAIL}"],
    "no_alert_for_skipped_runs": true
  },
  "webhook_notifications": {
    "on_start": [],
    "on_success": [
      {
        "id": "${MODEL_DEPLOYMENT_WEBHOOK}"
      }
    ],
    "on_failure": []
  },
  "notification_settings": {
    "no_alert_for_skipped_runs": true,
    "no_alert_for_canceled_runs": false
  },
  "run_as": {
    "user_name": "niteshchand_sharma@epam.com"
  }
}