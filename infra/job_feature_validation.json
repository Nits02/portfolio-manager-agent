{
  "name": "Feature Validation Pipeline",
  "schedule": {
    "quartz_cron_expression": "0 30 20 * * SUN",
    "timezone_id": "America/New_York",
    "pause_status": "UNPAUSED"
  },
  "tasks": [
    {
      "task_key": "validate_features",
      "notebook_task": {
        "notebook_path": "/Users/niteshchand_sharma@epam.com/portfolio-manager-agent/portfolio-manager-agent/notebooks/04_feature_validation",
        "source": "WORKSPACE",
        "base_parameters": {
          "catalog": "portfolio_catalog",
          "schema": "portfolio_schema",
          "table_name": "features",
          "environment": "${ENVIRONMENT}",
          "data_quality_checks": "true",
          "completeness_threshold": "0.95",
          "validity_threshold": "0.98"
        }
      },
      "existing_cluster_policy": {
        "policy_id": "${CLUSTER_POLICY_ID}"
      },
      "timeout_seconds": 1800,
      "retry_on_timeout": true,
      "max_retries": 2,
      "min_retry_interval_millis": 180000,
      "libraries": [
        {
          "pypi": {
            "package": "pandas>=1.5.0"
          }
        },
        {
          "pypi": {
            "package": "numpy>=1.24.0"
          }
        },
        {
          "pypi": {
            "package": "great-expectations>=0.17.0"
          }
        }
      ]
    }
  ],
  "format": "MULTI_TASK",
  "max_concurrent_runs": 1,
  "depends_on": [
    {
      "outcome": "SUCCESS",
      "job_id": "${FEATURE_ENGINEERING_JOB_ID}"
    }
  ],
  "tags": {
    "purpose": "feature_validation",
    "environment": "${ENVIRONMENT}",
    "pipeline": "portfolio_manager",
    "sequence": "04"
  },
  "email_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": ["${NOTIFICATION_EMAIL}"],
    "no_alert_for_skipped_runs": true
  },
  "webhook_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": []
  },
  "notification_settings": {
    "no_alert_for_skipped_runs": true,
    "no_alert_for_canceled_runs": false
  },
  "run_as": {
    "user_name": "niteshchand_sharma@epam.com"
  }
}